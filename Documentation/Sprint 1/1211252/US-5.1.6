# US 5.1.6 - Backoffice User Login

## 1. Context

The healthcare application provides non-authenticated backoffice users the ability to log in using their credentials. This functionality facilitates role-based access to various system features, ensuring that users can only access functionalities appropriate to their assigned roles, such as managing appointments or users, while maintaining security through account locking and session expiration.

## 2. Requirements

Domain - As a (non-authenticated) Backoffice User, I want to log in to the system using my credentials to access backoffice features according to my assigned role.

Acceptance Criteria:

- Username and Password Login: Backoffice users can log in using their unique username and password.
- Role-Based Access Control: The system ensures users access only the features relevant to their roles (e.g., doctors manage appointments, admins manage users and settings).
- Account Locking: After five failed login attempts, the user account is temporarily locked, and an alert is sent to the admin for security.
- Session Expiration: Login sessions expire after a specified period of inactivity to maintain system security.

## 3. Analysis

3.1 Study:
The login functionality emphasizes security and role-based access control to protect sensitive information within the healthcare application. By restricting access based on user roles, the system ensures that only authorized personnel can manage critical features, enhancing overall system integrity.

3.2 Analysis:
The design prioritizes both user experience and security. By implementing account locking and session expiration, the system mitigates the risk of unauthorized access due to brute-force attacks or unattended sessions, promoting a secure environment for handling sensitive healthcare data.

## 4. Design

Here is the domain model for Backoffice User Login:

BackofficeUser Entity: Represents the user, including username, password, and assigned role.
LoginService: Manages the authentication process, including credential validation and role checks.
RoleManagement: Enforces role-based access control for system features.
AccountLockingService: Monitors login attempts and handles temporary account locking after five failed attempts, notifying the admin.
SessionManagement: Tracks user activity to enforce session expiration after a period of inactivity.
Implementation
The team implemented this feature following DDD principles, focusing on security, user access management, and maintaining an efficient workflow. Key components—such as role-based access control, account locking, and session management—were designed to ensure secure and appropriate access for backoffice users.

## 5. Implementation/Major Commits

This login feature is integrated into the system, and UML diagrams illustrating the login workflow were created using PlantUML and saved in SVG format. Below are individual requirements:

LoginService: Handles the user authentication process, validating credentials and determining access levels based on user roles.
RoleManagement: Ensures that users can access only the features corresponding to their assigned roles.
AccountLockingService: Implements account lockout procedures after multiple failed login attempts and notifies the admin.
SessionManagement: Monitors user activity and manages session expiration to maintain security against unauthorized access.