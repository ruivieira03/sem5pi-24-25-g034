{"ast":null,"code":"var _jsxFileName = \"/Users/martim/Documentos/ISEP/6_semester/pi5/sem5pi-24-25-g034/clientapp/src/modules/Patient/PatientProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport PatientInfo from './PatientInfo';\nimport PatientUpdate from './PatientUpdate';\nimport './PatientProfile.css'; // Import your CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PatientProfile = () => {\n  _s();\n  const [profileData, setProfileData] = useState({\n    firstName: '',\n    lastName: '',\n    gender: '',\n    email: '',\n    phoneNumber: '',\n    emergencyContact: '',\n    dateOfBirth: '',\n    allergiesOrMedicalConditions: '',\n    appointmentHistory: ''\n  });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const token = localStorage.getItem('authToken');\n  useEffect(() => {\n    // Fetch the current profile data when the component mounts\n    const fetchProfileData = async () => {\n      try {\n        const response = await axios.get('https://localhost:5001/api/account/patient-profile', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log('Patient Profile Response:', response.data); // Check the data returned by the API\n        setProfileData(response.data);\n      } catch (err) {\n        setError('Failed to fetch profile data.');\n      }\n    };\n    fetchProfileData();\n  }, [token]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"patient-profile-container\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 23\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(PatientInfo, {\n      profileData: profileData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PatientUpdate, {\n      profileData: profileData,\n      setProfileData: setProfileData,\n      setError: setError,\n      setSuccess: setSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(PatientProfile, \"cWcTPV4ZIFYswZaM/SGglFdfM+c=\");\n_c = PatientProfile;\nexport default PatientProfile;\nvar _c;\n$RefreshReg$(_c, \"PatientProfile\");","map":{"version":3,"names":["React","useEffect","useState","axios","PatientInfo","PatientUpdate","jsxDEV","_jsxDEV","PatientProfile","_s","profileData","setProfileData","firstName","lastName","gender","email","phoneNumber","emergencyContact","dateOfBirth","allergiesOrMedicalConditions","appointmentHistory","error","setError","success","setSuccess","token","localStorage","getItem","fetchProfileData","response","get","headers","Authorization","console","log","data","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/martim/Documentos/ISEP/6_semester/pi5/sem5pi-24-25-g034/clientapp/src/modules/Patient/PatientProfile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport PatientInfo from './PatientInfo';\nimport PatientUpdate from './PatientUpdate';\nimport './PatientProfile.css'; // Import your CSS file\n\nconst PatientProfile = () => {\n    const [profileData, setProfileData] = useState({\n        firstName: '',\n        lastName: '',\n        gender: '',\n        email: '',\n        phoneNumber: '',\n        emergencyContact: '',\n        dateOfBirth: '',\n        allergiesOrMedicalConditions: '',\n        appointmentHistory: '',\n    });\n\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    const token = localStorage.getItem('authToken');\n\n    useEffect(() => {\n        // Fetch the current profile data when the component mounts\n        const fetchProfileData = async () => {\n            try {\n                const response = await axios.get('https://localhost:5001/api/account/patient-profile', {\n                    headers: { Authorization: `Bearer ${token}` }\n                });\n                console.log('Patient Profile Response:', response.data);  // Check the data returned by the API\n                setProfileData(response.data);\n            } catch (err) {\n                setError('Failed to fetch profile data.');\n            }\n        };\n\n        fetchProfileData();\n    }, [token]);\n\n    return (\n        <div className=\"patient-profile-container\">\n            {error && <div className=\"error-message\">{error}</div>}\n            {success && <div className=\"success-message\">{success}</div>}\n            <PatientInfo profileData={profileData} />\n            <PatientUpdate \n                profileData={profileData} \n                setProfileData={setProfileData} \n                setError={setError} \n                setSuccess={setSuccess} \n            />\n        </div>\n    );\n};\n\nexport default PatientProfile;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAO,sBAAsB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC;IAC3CU,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE,EAAE;IACfC,gBAAgB,EAAE,EAAE;IACpBC,WAAW,EAAE,EAAE;IACfC,4BAA4B,EAAE,EAAE;IAChCC,kBAAkB,EAAE;EACxB,CAAC,CAAC;EAEF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMuB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAE/C1B,SAAS,CAAC,MAAM;IACZ;IACA,MAAM2B,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAM1B,KAAK,CAAC2B,GAAG,CAAC,oDAAoD,EAAE;UACnFC,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUP,KAAK;UAAG;QAChD,CAAC,CAAC;QACFQ,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAAE;QAC1DxB,cAAc,CAACkB,QAAQ,CAACM,IAAI,CAAC;MACjC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACVd,QAAQ,CAAC,+BAA+B,CAAC;MAC7C;IACJ,CAAC;IAEDM,gBAAgB,CAAC,CAAC;EACtB,CAAC,EAAE,CAACH,KAAK,CAAC,CAAC;EAEX,oBACIlB,OAAA;IAAK8B,SAAS,EAAC,2BAA2B;IAAAC,QAAA,GACrCjB,KAAK,iBAAId,OAAA;MAAK8B,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAEjB;IAAK;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EACrDnB,OAAO,iBAAIhB,OAAA;MAAK8B,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAAEf;IAAO;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC5DnC,OAAA,CAACH,WAAW;MAACM,WAAW,EAAEA;IAAY;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACzCnC,OAAA,CAACF,aAAa;MACVK,WAAW,EAAEA,WAAY;MACzBC,cAAc,EAAEA,cAAe;MAC/BW,QAAQ,EAAEA,QAAS;MACnBE,UAAU,EAAEA;IAAW;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC;AAACjC,EAAA,CA/CID,cAAc;AAAAmC,EAAA,GAAdnC,cAAc;AAiDpB,eAAeA,cAAc;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}